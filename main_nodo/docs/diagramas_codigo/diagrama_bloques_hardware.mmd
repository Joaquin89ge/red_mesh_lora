flowchart TD
    ESP32["ESP32 (MCU)"]
    LoRa["Módulo LoRa (SX1278)\nRFM95_CS: 5\nRFM95_INT: 26\nRFM95_RST: 27\nVSPI_SCK: 18\nVSPI_MISO: 19\nVSPI_MOSI: 23\nVSPI_SS: 5"]
    GPS["Módulo GPS (UART2)\nGPS_RX_UART2: 16\nGPS_TX_UART2: 17"]
    RS485["Módulo RS485 (SoftwareSerial)\nRS485_RX_SOFTWARE: 14\nRS485_TX_SOFTWARE: 15\nRS485_RE_DE: 2"]
    DHT["Sensor DHT (Temp/Hum)\nPIN_SENS_DHTT: 22"]
    BAT["Medición Batería\nBATTERY_VOLTAGE_ADC_PIN: 34"]

    ESP32 --> LoRa
    ESP32 --> GPS
    ESP32 --> RS485
    ESP32 --> DHT
    ESP32 --> BAT

    style ESP32 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style LoRa fill:#fffde7,stroke:#fbc02d
    style GPS fill:#e8f5e9,stroke:#388e3c
    style RS485 fill:#f3e5f5,stroke:#7b1fa2
    style DHT fill:#ffe0b2,stroke:#f57c00
    style BAT fill:#f8bbd0,stroke:#c2185b 